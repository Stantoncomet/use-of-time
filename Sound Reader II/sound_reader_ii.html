<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="./icon.png">
    <link rel="stylesheet" href="style.css">
    <title>Sound Reader II</title>
</head>
<body>
    <!-- <input type="file" webkitdirectory id="fileInput"> -->
     <div id="sidebar">
        <p>=</p>
        <div id="tree">
            <!-- <p>act1...</p>
            <p>act2...</p> -->
            <p>version: b4</p>
            <p>music sounds cool</p>
        </div>
     </div>

     <div id="topbar">
        <div id="tabs">
            <button class="selected" onclick="loadPage('home', this)">Home</button>
            <button onclick="loadPage('homeless', this)">Homeless</button>
            <!-- <button><p>‚ûï</p></button> -->
        </div>
        <div id="menu">
            <!-- <button id="reload-tracks">‚ü≥</button> -->
            <label>
                <input id="folder-input" type="file" webkitdirectory>
                üìÇ
            </label>
            <button onclick="deletePersistance()">‚ò†Ô∏è</button>
            <button onclick="tryFix()">üõ†Ô∏è</button>
        </div>
     </div>
     
     <div id="desk">
        <div id="home" class="page loaded-page">
            <div class="stack">
                <div class="info">
                    <h1>About</h1>
                    <p>This is a tool developed for the sound techs of the <u>PTHS Theatre Department</u>!</p>
                    <p>Its main purpose is to assist the process of playing audio tracks during shows. It was made in response the absurdity that is playing audio from File Explorer.</p>
                    <audio id="test-track" src=""></audio>
                    <h2>Additional Info</h2>
                    <p>Current support browsers:</p>
                    <p>- Firefox</p>
                    <p>- Chrome (mostly)</p>
                </div>
            </div>
            <div class="stack">
                <div class="info">
                    <h1>Getting Started</h1>
                    <p>Make sure you have put this file, <b>SoundReaderII.html</b>, in the same directory as your <b>audio</b> folder.</p>
                    <p>Then, click the üìÇ in the top right corner choose that audio folder.</p>
                    <p>Subdirectories containing audio files are divided amongst tabs you can navigate through at the top of the page.</p>
                    <p>Any audio not in a subdirectory will be in the <b>Homeless</b> tab.</p>
                    <p>Move tracks between tabs and stacks. Order of tracks in stacks is not saved, but everything else should be.</p>
                </div>
            </div>
            <div class="stack">
                <div class="info">
                    <h1>Changelog</h1>

                    <h2>Beta 4</h2>
                    <li>* Seekers are now fractional</li>
                    <li>* Click toasts to hide them</li>

                    <!-- TODO -->
                    <li><u>TODO:</u></li>
                    <li>Vertical movement of tracks in stacks</li>
                    <li>Sort buttons for stacks</li>
                    <li>Fix track resetting to start if it hasnt been played yet and seeker is set elsewhere</li>
                    <li>Update getting started and make a tutorial video lol</li>

                    <h2>Beta 3</h2>
                    <li>* Removed weird empty overflow from pages.</li>
                    <li>* Tab bar now scrolls horizontally on overflow.</li>
                    <li>* Moving tracks between pages now gives a toast.</li>
                    <li>* TryFix button might help if nothing is loading.</li>
                    <li>* New On-Demand Movies stack on pages.</li>
                    <li>* Trying to ship the example track no longer breaks everything.</li>
                    <!-- <li>* Clearing persistant data now also </li> -->
                </div>
            </div>
        </div>
        <div id="homeless" class="page">
            <div class="stack">
                <p>Favorites</p>
                <div class="track">
                    <audio src="./audio/Curtain Call.mp3"></audio>
                    <button class="move" draggable="true" ondrag="console.log(event.clientX)" onclick="setShipment(this, 'visible')">ù§∫</button>
                    <p class="name">This is what a track looks like</p>
                    <div class="volume">
                        <button onclick="scoochTrack(this, 1)">></button>
                        <button onclick="scoochTrack(this, -1)"><</button>
                    </div>
                    <button class="playpause" onclick="toggleAudio(this)">‚Øà</button>
                    <input class="seeker" type="range" max="123.5" value="0">
                    <p class="duration">0:00</p>

                    <!-- hidden by default -->
                    <div class="shipment" onmouseleave="setShipment(this, 'hidden')">
                        <!-- <button onclick="shipTrack(this)">homeless</button> -->
                        <button>homeless</button>
                    </div>
                </div>
            </div>
            <!-- <div class="stack">
                <div class="new-stack">
                    <button onclick="createStack('homeless', this.parentElement.querySelector('input').value)">Add Stack</button>
                </div>
            </div> -->
        </div>
     </div>
     <div id="toast" class="success">
        <h1>Toast</h1>
        <p>Hello World!</p>
     </div>
</body>
<script src="script.js"></script>
<style></style>

</html>